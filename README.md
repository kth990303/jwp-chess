# 레벨2 - 체스

## 환경 설정

- `Spring Framework`를 활용하여 `Spark`를 대체한 애플리케이션으로 만든다.
    - `@Controller`나 `@RestController`를 활용하여 요청을 받는다.
- `Spring JDBC`를 활용하여 재시작하더라도 이전에 하던 체스 게임을 다시 시작할 수 있다.
    - `Spring JDBC`에서 제공하는 `JdbcTemplate`를 이용하여 Connection을 직접 만들어주는 로직을 대체한다.
    - `JdbcTemplate`은 매번 새로 생성하지 않고 빈 주입을 받아서 사용한다.

## 체스판 규칙

- 게임 시작은 `start`, 종료는 `end` 명령을 입력받는다.
- 말의 위치 값은 가로 위치는 왼쪽부터 `a ~ h`이고, 세로는 아래부터 위로 `1 ~ 8`로 구현한다.
- 말 위치
    - 룩은 `a열`과 `h열`에서 시작한다.
    - 나이트는 `b열`과 `g열`에서 시작한다.
    - 비숍은 `c열`과 `f열`에서 시작한다.
    - 퀸은 `d열`에서 시작한다.
    - 킹은 `e열`에서 시작한다.
    - 폰은 `2행 a ~ h열`과 `7행 a ~ h열`에서 시작한다.

## 체스말 이동 규칙

- `move source위치 target위치`을 입력받아 이동한다.
- 말 이동
    - 룩은 `상하좌우` 방향으로 `1 ~ 8칸` 이동 가능하다.
    - 나이트는 `상하좌우` 방향으로 `1칸` 이동 후 `대각선`으로 `1칸` 이동 가능하다.
    - 비숍은 `대각선` 방향으로 `1 ~ 8칸` 이동 가능하다.
    - 퀸은 `상하좌우, 대각선` 방향으로 `1 ~ 8칸` 이동 가능하다.
    - 킹은 `상하좌우, 대각선` 방향으로 `1칸` 이동 가능하다.
    - 폰
        - 첫 번째 턴일 경우 `앞으로` `1칸` 또는 `2칸` 이동 가능하다.
        - 대각선 방향에 적이 존재할 경우 `좌우 대각선` 방향으로 `1칸` 이동 가능하다.
        - 그 외의 경우 `앞으로` `1칸` 이동 가능하다.

## 승패 및 점수 규칙

- 게임 종료 시, 현재 남아 있는 말에 대한 점수를 구한다.
    - `King`이 잡혔을 때, 또는 `END`를 입력받았을 때 게임을 종료한다.
- `status`를 입력받았을 때 각 진영의 점수를 출력하고 현재의 승패 결과를 보여준다.
- 점수 계산 규칙
    - 퀸은 `9점`, 룩은 `5점`, 비숍은 `3점`, 나이트는 `2.5점`, 킹은 `0점`이다.
    - 폰의 기본 점수는 `1점`이다. 하지만 `같은 세로줄에 같은 색의 폰`이 있는 경우 1점이 아닌 `0.5점`을 준다.

## 기능 요구사항

- [x] 게임 시작 시, `start`를 입력받는다.
    - [ERROR] `start`가 아닌 경우, 예외를 발생시킨다.
- [x] 체스판을 생성한다.
    - [x] 체스말 generator를 생성한다.
    - [x] 체스말을 생성한다.
        - [x] 폰을 생성한다.
        - [x] 룩을 생성한다.
        - [x] 비숍을 생성한다.
        - [x] 나이트을 생성한다.
        - [x] 퀸을 생성한다.
        - [x] 킹을 생성한다.
    - [x] 플레이어를 생성한다.
- [x] 명령어를 입력받는다.
    - [ERROR] `move`, `status`, `end`가 아닌 경우, 예외를 발생시킨다.
- [x] `move`인 경우, 체스말을 이동시킨다.
- [x] `status`인 경우, 현재까지의 점수를 보여준다.
- [x] `end`인 경우, 게임을 종료시킨다.
- [x] 게임이 끝난 경우, 점수 계산 규칙에 따라 점수를 계산하고 보여준다.
